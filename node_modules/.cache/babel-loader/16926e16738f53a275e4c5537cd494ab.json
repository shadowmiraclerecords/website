{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import logo from'./smr.png';import React from\"react\";// import {loadStripe} from '@stripe/stripe-js';\nimport'./App.css';import axios from'axios';import*as EmailValidator from'email-validator';// var stripePromise = loadStripe('pk_test_51IWVXgLK0vLBTfXTBSMyEiRmQTzC14wWWTaKuJVoSvCeCeQtlHFWFSETdH0lebmaTg5UWAH01GZCqiWIYuWH4dzT00tjajonTm');\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.changeHandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));var valid=EmailValidator.validate(e.target.value);// console.log(valid);\n// console.log(e.target.value);\nif(_this.state.disable&&valid){_this.setState({disable:false});}if(!_this.state.disable&&!valid){_this.setState({disable:true});}};_this.submitHandler=function(e){e.preventDefault();console.log(_this.state);};_this.state={results:\"\",disable:true,display:true,email:\"\",total:0,items:{},isDesktopDisplay:false};_this.updateTheTotal=_this.updateTheTotal.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));// this.handleClick = this.handleClick.bind(this);\n_this.enableBtn=_this.enableBtn.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.changeHandler=_this.changeHandler.bind(_assertThisInitialized(_this));_this.submitHandler=_this.submitHandler.bind(_assertThisInitialized(_this));_this.makeApiCall=_this.makeApiCall.bind(_assertThisInitialized(_this));_this.updateDisplayStyle=_this.updateDisplayStyle.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateDisplayStyle();window.addEventListener(\"resize\",this.updateDisplayStyle);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"resize\",this.updateDisplayStyle);}},{key:\"updateDisplayStyle\",value:function updateDisplayStyle(){this.setState({isDesktopDisplay:window.innerWidth>1450});}},{key:\"makeApiCall\",value:function(){var _makeApiCall=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var email,api,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=this.state.email;api='https://api.shadowmiraclerecords.com/write';data={\"email\":email};axios.post(api,data).then(function(response){console.log(response);if(response.request.status===200){_this2.setState({display:false});}}).catch(function(error){console.log(error);});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function makeApiCall(){return _makeApiCall.apply(this,arguments);}return makeApiCall;}()},{key:\"updateTheTotal\",value:function updateTheTotal(){this.setState({total:this.state.total+50});}},{key:\"onChange\",value:function onChange(value){console.log(\"Captcha value:\",value);}},{key:\"enableBtn\",value:function enableBtn(){document.getElementById(\"button1\").disabled=false;}// handleClick = async () => {\n//   // Get Stripe.js instance\n//   const stripe = await stripePromise;\n//   stripe.redirectToCheckout({\n//     mode: \"payment\",\n//     lineItems: [{ price: \"price_1IWsTeLK0vLBTfXTLTnSRPph\", quantity: 1 }],\n//     // successUrl:\n//     //   'success.html?session_id={CHECKOUT_SESSION_ID}',\n//     // cancelUrl:\n//     //   'canceled.html?session_id={CHECKOUT_SESSION_ID}',\n//     successUrl:\n//       'https://shadowmiraclerecords.github.io/website/',\n//     cancelUrl:\n//       'https://shadowmiraclerecords.github.io/website/',\n//     shippingAddressCollection: {\n//       allowedCountries: ['US'],\n//     }\n//   }).then(this.handleStripeResult);\n// };\n},{key:\"onSubmit\",value:function onSubmit(token){document.getElementById(\"demo-form\").submit();}},{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,disable=_this$state.disable,display=_this$state.display;var makeApiCall=this.makeApiCall;var collection;if(display){collection=/*#__PURE__*/_jsxs(\"div\",{children:[\"Sign up to hear more:\",/*#__PURE__*/_jsx(\"form\",{name:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",name:\"email\",value:email,onChange:this.changeHandler})}),/*#__PURE__*/_jsx(\"button\",{id:\"testing\",disabled:disable,onClick:makeApiCall,children:\"Submit\"})]});}else{collection=/*#__PURE__*/_jsx(\"div\",{children:\"Thanks for your info\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),collection,/*#__PURE__*/_jsx(\"iframe\",{title:\"There's Another Way To Love\",width:\"320\",height:\"160\",scrolling:\"no\",frameBorder:\"no\",allow:\"autoplay\",src:\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1000565353&color=%23080808&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=false\"})]})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Volumes/T7/website/src/App.js"],"names":["logo","React","axios","EmailValidator","App","props","changeHandler","e","setState","target","name","value","valid","validate","state","disable","submitHandler","preventDefault","console","log","results","display","email","total","items","isDesktopDisplay","updateTheTotal","bind","onChange","enableBtn","onSubmit","makeApiCall","updateDisplayStyle","window","addEventListener","removeEventListener","innerWidth","api","data","post","then","response","request","status","catch","error","document","getElementById","disabled","token","submit","collection","Component"],"mappings":"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","sourcesContent":["import logo from './smr.png';\nimport React from \"react\";\n// import {loadStripe} from '@stripe/stripe-js';\nimport './App.css';\nimport axios from 'axios';\nimport * as EmailValidator from 'email-validator';\n// var stripePromise = loadStripe('pk_test_51IWVXgLK0vLBTfXTBSMyEiRmQTzC14wWWTaKuJVoSvCeCeQtlHFWFSETdH0lebmaTg5UWAH01GZCqiWIYuWH4dzT00tjajonTm');\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      results: \"\",\n      disable: true,\n      display: true,\n      email: \"\",\n      total: 0,\n      items: {},\n      isDesktopDisplay: false\n    };\n\n    this.updateTheTotal = this.updateTheTotal.bind(this);\n    this.onChange = this.onChange.bind(this);\n    // this.handleClick = this.handleClick.bind(this);\n    this.enableBtn = this.enableBtn.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.changeHandler = this.changeHandler.bind(this);\n    this.submitHandler = this.submitHandler.bind(this);\n    this.makeApiCall = this.makeApiCall.bind(this);\n    this.updateDisplayStyle = this.updateDisplayStyle.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateDisplayStyle();\n    window.addEventListener(\"resize\", this.updateDisplayStyle)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDisplayStyle)\n  }\n\n  updateDisplayStyle() {\n    this.setState({isDesktopDisplay: window.innerWidth > 1450})\n  }\n\n  async makeApiCall() {\n    const email = this.state.email;\n    const api = 'https://api.shadowmiraclerecords.com/write';\n    const data = { \"email\" : email };\n    axios\n      .post(api, data)\n      .then((response) => {\n        console.log(response);\n        if (response.request.status === 200) {\n          this.setState({display: false});\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  changeHandler = (e) => {\n    this.setState({[e.target.name] : e.target.value});\n    const valid = EmailValidator.validate(e.target.value);\n    // console.log(valid);\n    // console.log(e.target.value);\n    if (this.state.disable && valid) {\n      this.setState({disable: false});\n    }\n    if (!this.state.disable && !valid) {\n      this.setState({disable: true});\n    }\n  }\n\n  submitHandler = e => {\n    e.preventDefault();\n    console.log(this.state);\n  }\n\n  updateTheTotal() {\n    this.setState({total: this.state.total + 50});\n  }\n\n  onChange(value) {\n    console.log(\"Captcha value:\", value);\n  }\n\n  enableBtn(){\n    document.getElementById(\"button1\").disabled = false;\n  }\n\n  // handleClick = async () => {\n  //   // Get Stripe.js instance\n  //   const stripe = await stripePromise;\n\n  //   stripe.redirectToCheckout({\n  //     mode: \"payment\",\n  //     lineItems: [{ price: \"price_1IWsTeLK0vLBTfXTLTnSRPph\", quantity: 1 }],\n  //     // successUrl:\n  //     //   'success.html?session_id={CHECKOUT_SESSION_ID}',\n  //     // cancelUrl:\n  //     //   'canceled.html?session_id={CHECKOUT_SESSION_ID}',\n  //     successUrl:\n  //       'https://shadowmiraclerecords.github.io/website/',\n  //     cancelUrl:\n  //       'https://shadowmiraclerecords.github.io/website/',\n  //     shippingAddressCollection: {\n  //       allowedCountries: ['US'],\n  //     }\n  //   }).then(this.handleStripeResult);\n  // };\n\n  onSubmit(token) {\n    document.getElementById(\"demo-form\").submit();\n  }\n\n  render() {\n    const { email, disable, display } = this.state;\n    const {\n      // handleClick,\n      makeApiCall\n    } = this;\n    let collection;\n    if (display) {\n      collection = <div>\n        Sign up to hear more:\n        <form name=\"input\">\n          <input type=\"email\" placeholder=\"email\" name=\"email\" value={email} onChange={this.changeHandler}></input>\n        </form>\n        <button id=\"testing\" disabled={disable} onClick={makeApiCall}>Submit</button>\n      </div>\n    } else {\n      collection = <div>Thanks for your info</div>\n    }\n    return (\n      <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        {/* <form name=\"input\">\n          <input type=\"email\" placeholder=\"email\" name=\"email\" value={email} onChange={this.changeHandler}></input>\n        </form>\n        <button id=\"testing\" disabled={disable} onClick={makeApiCall}>Submit</button> */}\n        {collection}\n        {/* <button role=\"link\" onClick={handleClick}>\n          Store\n        </button> */}\n        {/* {isDesktopDisplay ? (\n          <iframe title=\"There's Another Way To Love\" width=\"75%\" height=\"160\" scrolling=\"no\" frameBorder=\"no\" allow=\"autoplay\" src=\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1000565353&color=%23080808&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=false\"></iframe>\n        ): (\n          <iframe title=\"There's Another Way To Love\" width=\"320\" height=\"160\" scrolling=\"no\" frameBorder=\"no\" allow=\"autoplay\" src=\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1000565353&color=%23080808&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=false\"></iframe>\n        )} */}\n        <iframe title=\"There's Another Way To Love\" width=\"320\" height=\"160\" scrolling=\"no\" frameBorder=\"no\" allow=\"autoplay\" src=\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1000565353&color=%23080808&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=false\"></iframe>\n      </header>\n    </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}