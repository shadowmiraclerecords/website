{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/T7/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import logo from'./smr.png';import React from\"react\";import{loadStripe}from'@stripe/stripe-js';import'./App.css';import axios from'axios';import*as EmailValidator from'email-validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var stripePromise=loadStripe('pk_test_51IWVXgLK0vLBTfXTBSMyEiRmQTzC14wWWTaKuJVoSvCeCeQtlHFWFSETdH0lebmaTg5UWAH01GZCqiWIYuWH4dzT00tjajonTm');var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.changeHandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));var valid=EmailValidator.validate(e.target.value);// console.log(valid);\n// console.log(e.target.value);\nif(_this.state.disable&&valid){_this.setState({disable:false});}if(!_this.state.disable&&!valid){_this.setState({disable:true});}};_this.submitHandler=function(e){e.preventDefault();console.log(_this.state);};_this.handleClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var stripe;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return stripePromise;case 2:stripe=_context.sent;stripe.redirectToCheckout({mode:\"payment\",lineItems:[{price:\"price_1IWsTeLK0vLBTfXTLTnSRPph\",quantity:1}],// successUrl:\n//   'success.html?session_id={CHECKOUT_SESSION_ID}',\n// cancelUrl:\n//   'canceled.html?session_id={CHECKOUT_SESSION_ID}',\nsuccessUrl:'https://shadowmiraclerecords.github.io/website/',cancelUrl:'https://shadowmiraclerecords.github.io/website/',shippingAddressCollection:{allowedCountries:['US']}}).then(_this.handleStripeResult);case 4:case\"end\":return _context.stop();}}},_callee);}));_this.state={results:\"\",disable:true,display:true,email:\"\",total:0,items:{}};_this.updateTheTotal=_this.updateTheTotal.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.enableBtn=_this.enableBtn.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.changeHandler=_this.changeHandler.bind(_assertThisInitialized(_this));_this.submitHandler=_this.submitHandler.bind(_assertThisInitialized(_this));_this.makeApiCall=_this.makeApiCall.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"makeApiCall\",value:function(){var _makeApiCall=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var email,api,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=this.state.email;api='https://api.shadowmiraclerecords.com/write';data={\"email\":email};axios.post(api,data).then(function(response){console.log(response);if(response.request.status==200){_this2.setState({display:false});}}).catch(function(error){console.log(error);});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function makeApiCall(){return _makeApiCall.apply(this,arguments);}return makeApiCall;}()},{key:\"updateTheTotal\",value:function updateTheTotal(){this.setState({total:this.state.total+50});}},{key:\"onChange\",value:function onChange(value){console.log(\"Captcha value:\",value);}},{key:\"enableBtn\",value:function enableBtn(){document.getElementById(\"button1\").disabled=false;}},{key:\"onSubmit\",value:function onSubmit(token){document.getElementById(\"demo-form\").submit();}},{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,disable=_this$state.disable,display=_this$state.display;var handleClick=this.handleClick,makeApiCall=this.makeApiCall;var collection;if(display){collection=/*#__PURE__*/_jsxs(\"div\",{children:[\"Sign up to hear more:\",/*#__PURE__*/_jsx(\"form\",{name:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",name:\"email\",value:email,onChange:this.changeHandler})}),/*#__PURE__*/_jsx(\"button\",{id:\"testing\",disabled:disable,onClick:makeApiCall,children:\"Submit\"})]});}else{collection=/*#__PURE__*/_jsx(\"div\",{children:\"Thanks for your info\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),collection,/*#__PURE__*/_jsx(\"iframe\",{width:\"75%\",height:\"160\",scrolling:\"no\",frameBorder:\"no\",allow:\"autoplay\",src:\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1000565353&color=%23080808&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=false\"})]})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Volumes/T7/website/src/App.js"],"names":["logo","React","loadStripe","axios","EmailValidator","stripePromise","App","props","changeHandler","e","setState","target","name","value","valid","validate","state","disable","submitHandler","preventDefault","console","log","handleClick","stripe","redirectToCheckout","mode","lineItems","price","quantity","successUrl","cancelUrl","shippingAddressCollection","allowedCountries","then","handleStripeResult","results","display","email","total","items","updateTheTotal","bind","onChange","enableBtn","onSubmit","makeApiCall","api","data","post","response","request","status","catch","error","document","getElementById","disabled","token","submit","collection","Component"],"mappings":"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","sourcesContent":["import logo from './smr.png';\nimport React from \"react\";\nimport {loadStripe} from '@stripe/stripe-js';\nimport './App.css';\nimport axios from 'axios';\nimport * as EmailValidator from 'email-validator';\nvar stripePromise = loadStripe('pk_test_51IWVXgLK0vLBTfXTBSMyEiRmQTzC14wWWTaKuJVoSvCeCeQtlHFWFSETdH0lebmaTg5UWAH01GZCqiWIYuWH4dzT00tjajonTm');\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      results: \"\",\n      disable: true,\n      display: true,\n      email: \"\",\n      total: 0,\n      items: {}\n    };\n    this.updateTheTotal = this.updateTheTotal.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.enableBtn = this.enableBtn.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.changeHandler = this.changeHandler.bind(this);\n    this.submitHandler = this.submitHandler.bind(this);\n    this.makeApiCall = this.makeApiCall.bind(this);\n  }\n\n  async makeApiCall() {\n    const email = this.state.email;\n    const api = 'https://api.shadowmiraclerecords.com/write';\n    const data = { \"email\" : email };\n    axios\n      .post(api, data)\n      .then((response) => {\n        console.log(response);\n        if (response.request.status == 200) {\n          this.setState({display: false});\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  changeHandler = (e) => {\n    this.setState({[e.target.name] : e.target.value});\n    const valid = EmailValidator.validate(e.target.value);\n    // console.log(valid);\n    // console.log(e.target.value);\n    if (this.state.disable && valid) {\n      this.setState({disable: false});\n    }\n    if (!this.state.disable && !valid) {\n      this.setState({disable: true});\n    }\n  }\n\n  submitHandler = e => {\n    e.preventDefault();\n    console.log(this.state);\n  }\n\n  updateTheTotal() {\n    this.setState({total: this.state.total + 50});\n  }\n\n  onChange(value) {\n    console.log(\"Captcha value:\", value);\n  }\n\n  enableBtn(){\n    document.getElementById(\"button1\").disabled = false;\n  }\n\n  handleClick = async () => {\n    // Get Stripe.js instance\n    const stripe = await stripePromise;\n\n    stripe.redirectToCheckout({\n      mode: \"payment\",\n      lineItems: [{ price: \"price_1IWsTeLK0vLBTfXTLTnSRPph\", quantity: 1 }],\n      // successUrl:\n      //   'success.html?session_id={CHECKOUT_SESSION_ID}',\n      // cancelUrl:\n      //   'canceled.html?session_id={CHECKOUT_SESSION_ID}',\n      successUrl:\n        'https://shadowmiraclerecords.github.io/website/',\n      cancelUrl:\n        'https://shadowmiraclerecords.github.io/website/',\n      shippingAddressCollection: {\n        allowedCountries: ['US'],\n      }\n    }).then(this.handleStripeResult);\n  };\n\n  onSubmit(token) {\n    document.getElementById(\"demo-form\").submit();\n  }\n\n  render() {\n    const { email, disable, display } = this.state;\n    const {\n      handleClick,\n      makeApiCall\n    } = this;\n    let collection;\n    if (display) {\n      collection = <div>\n        Sign up to hear more:\n        <form name=\"input\">\n          <input type=\"email\" placeholder=\"email\" name=\"email\" value={email} onChange={this.changeHandler}></input>\n        </form>\n        <button id=\"testing\" disabled={disable} onClick={makeApiCall}>Submit</button>\n      </div>\n    } else {\n      collection = <div>Thanks for your info</div>\n    }\n    return (\n      <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        {/* <form name=\"input\">\n          <input type=\"email\" placeholder=\"email\" name=\"email\" value={email} onChange={this.changeHandler}></input>\n        </form>\n        <button id=\"testing\" disabled={disable} onClick={makeApiCall}>Submit</button> */}\n        {collection}\n        {/* <button role=\"link\" onClick={handleClick}>\n          Store\n        </button> */}\n        <iframe width=\"75%\" height=\"160\" scrolling=\"no\" frameBorder=\"no\" allow=\"autoplay\" src=\"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1000565353&color=%23080808&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=false\"></iframe>\n      </header>\n    </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}